:include "c_wrap_linux.tnsl"
:include "logging.tnsl"
:include "utils.tnsl"
:include "vector.tnsl"
:include "tokenizer.tnsl"
:include "compiler_structs.tnsl"
:include "compiler.tnsl"

{}uint8 w_usage = "Usage: tnslc [file to compile] [file to write]"

/; main (int argc, ~~uint8 argv) [int]
	asm "mov r8, rdi"
	asm "mov r9, rsi"

	/; if (argc < 3)
		_printf(~w_usage{0})
		reutrn 1
	;/

	Path in, out
	in.start(argv{1})
	out.start(argv{2})

	compile(in, out)

	in._del()
	out._del()

	return 0
;/
