
~uint8 TOKEN_COUNT = "Token count: %d\n\0"

/; generate (~utils.File fin, fout)

	utils.Vector tokens = tokenize(fin)

	_print_num(TOKEN_COUNT, tokens.count)

	fout`.create()

	/; loop (int i = 0; i < tokens.count) [i++]
		~Token tok = tokens.get(i)
		~uint8 buf = tok`.sprint()
		fout`.write_cstr(buf)
		fout`.write('\n')
		_delete(buf)
	;/

	fout`.close()

	free_token_list(~tokens)

;/

